{"version":3,"sources":["webpack:///webpack/bootstrap cbe6275e824958303ac1","webpack:///./src/index.js","webpack:///./src/manifest.js","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/index.js","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/createConsumerApi.js","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/package.json","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/manifest.js","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/readFromConsumerApi.js","webpack:///./src/BlockStyles.js","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/vendor/react/index.js","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/vendor/prop-types/index.js","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js","webpack:///./src/styleDefinitions.js","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/vendor/react-redux/index.js","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-redux-store/index.js","webpack:////Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/vendor/plow-js/index.js"],"names":["require","cssClassnamesInStyleDefinitions","richtextToolbar","globalRegistry","get","set","component","callbackPropName","isVisibleWhen","formattingRules","applyStyleFn","formattingOptions","editor","CKEDITOR","styleDefinitionId","value","classesToBePreserved","style","element","attributes","class","join","applyStyle","extractCurrentFormatFn","elementPath","block","classNames","getAttribute","classes","split","config","addToExtraAllowedContent","map","cssClassName","createConsumerApi","createReadOnlyValue","writable","enumerable","configurable","manifests","exposureMap","api","Object","keys","forEach","defineProperty","key","window","manifest","identifier","options","bootstrap","push","readFromConsumerApi","Error","getGuestFrameWindow","document","getElementsByName","contentWindow","BlockStyles","formattingUnderCursor","UI","ContentCanvas","renderStyleDefinition","styleDefinition","console","log","props","classesList","classesForOption","it","enabledClass","find","indexOf","label","handleValueChange","id","NeosCKEditorApi","toggleFormat","module","exports","React","PropTypes","ReactUiComponents","extractAllCssClassNames","findAllAppliedClassesExceptForOneStyleDefinition","styleDefinitions","cssClassNames","option","concat","args","reduce","acc","val","hasClass","filter","Boolean","reactRedux","NeosUiReduxStore","plow"],"mappings":"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","file":"Plugin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cbe6275e824958303ac1","require('./manifest');\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import manifest from '@neos-project/neos-ui-extensibility';\n\nimport BlockStyles from './BlockStyles.js';\nimport styleDefinitions, {extractAllCssClassNames, findAllAppliedClassesExceptForOneStyleDefinition} from './styleDefinitions';\n\nconst cssClassnamesInStyleDefinitions = extractAllCssClassNames(styleDefinitions);\n\nmanifest('Sandstorm.BlockStyles', {}, globalRegistry => {\n\tconst richtextToolbar = globalRegistry.get('ckEditor').get('richtextToolbar');\n\trichtextToolbar.set('BlockStyles', {\n\t\tcomponent: BlockStyles,\n\t\tcallbackPropName: 'onSelect',\n\t\tisVisibleWhen: () => true\n\t});\n\n\tconst formattingRules = globalRegistry.get('ckEditor').get('formattingRules');\n\n\t/**\n\t * Shorthand add* method to ease creation of custom styles\n\t */\n\tformattingRules.set('Sandstorm.Blockstyles', {\n\t\tapplyStyleFn: (formattingOptions, editor, CKEDITOR) => {\n\t\t\tconst {styleDefinitionId, value} = formattingOptions;\n\n\t\t\tconst classesToBePreserved = findAllAppliedClassesExceptForOneStyleDefinition(styleDefinitionId, styleDefinitions, editor, CKEDITOR);\n\n\t\t\tvar style = new CKEDITOR.style({\n\t\t\t\telement: 'p',\n\t\t\t\tattributes: {\n\t\t\t\t\tclass: [...classesToBePreserved, value].join(' '),\n\t\t\t\t}\n\t\t\t});\n\t\t\teditor.applyStyle(style);\n\t\t},\n\t\textractCurrentFormatFn: (editor, CKEDITOR) => {\n\t\t\tconst elementPath = editor.elementPath();\n\t\t\tif (elementPath && elementPath.block) {\n\t\t\t\tconst classNames = elementPath.block.getAttribute('class');\n\t\t\t\treturn {classes: classNames && classNames.split(' ')};\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tconfig: formattingRules.config.addToExtraAllowedContent(cssClassnamesInStyleDefinitions.map(cssClassName => `p(${cssClassName})`).join(';')),\n\n\t});\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/manifest.js","import createConsumerApi from './createConsumerApi';\nimport readFromConsumerApi from './readFromConsumerApi';\n\nexport default readFromConsumerApi('manifest');\n\nexport {\n    createConsumerApi\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/index.js","import {version} from '../package.json';\nimport createManifestFunction from './manifest';\n\nconst createReadOnlyValue = value => ({\n    value,\n    writable: false,\n    enumerable: false,\n    configurable: true\n});\n\nexport default function createConsumerApi(manifests, exposureMap) {\n    const api = {};\n\n    Object.keys(exposureMap).forEach(key => {\n        Object.defineProperty(api, key, createReadOnlyValue(exposureMap[key]));\n    });\n\n    Object.defineProperty(api, '@manifest', createReadOnlyValue(\n        createManifestFunction(manifests)\n    ));\n\n    Object.defineProperty(window, '@Neos:HostPluginAPI', createReadOnlyValue(api));\n    Object.defineProperty(window['@Neos:HostPluginAPI'], 'VERSION', createReadOnlyValue(version));\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/createConsumerApi.js","module.exports = {\"name\":\"@neos-project/neos-ui-extensibility\",\"version\":\"1.0.0-beta4\",\"description\":\"Extensibility mechanisms for the Neos CMS UI\",\"main\":\"./src/index.js\",\"scripts\":{\"prebuild\":\"check-dependencies && yarn clean\",\"test\":\"yarn jest\",\"test:watch\":\"yarn jest -- --watch\",\"build\":\"exit 0\",\"build:watch\":\"exit 0\",\"clean\":\"rimraf ./lib ./dist\",\"lint\":\"eslint src\",\"jest\":\"PWD=$(pwd) NODE_ENV=test jest -w 1 --coverage\"},\"dependencies\":{\"@neos-project/build-essentials\":\"1.0.0-beta4\",\"@neos-project/utils-helpers\":\"1.0.0-beta4\",\"babel-core\":\"^6.13.2\",\"babel-eslint\":\"^7.1.1\",\"babel-loader\":\"^6.2.4\",\"babel-plugin-transform-decorators-legacy\":\"^1.3.4\",\"babel-plugin-transform-object-rest-spread\":\"^6.20.1\",\"babel-plugin-webpack-alias\":\"^2.1.1\",\"babel-preset-es2015\":\"^6.13.2\",\"babel-preset-react\":\"^6.3.13\",\"babel-preset-stage-0\":\"^6.3.13\",\"chalk\":\"^1.1.3\",\"css-loader\":\"^0.26.0\",\"file-loader\":\"^0.10.0\",\"json-loader\":\"^0.5.4\",\"postcss-loader\":\"^1.0.0\",\"react-dev-utils\":\"^0.5.0\",\"style-loader\":\"^0.13.1\"},\"bin\":{\"neos-react-scripts\":\"./bin/neos-react-scripts.js\"},\"jest\":{\"transformIgnorePatterns\":[],\"setupFiles\":[\"./node_modules/@neos-project/build-essentials/src/setup-browser-env.js\"],\"transform\":{\"neos-ui-extensibility/src/.+\\\\.jsx?$\":\"./node_modules/.bin/babel-jest\",\"node_modules/@neos-project/.+\\\\.jsx?$\":\"./node_modules/.bin/babel-jest\"}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/package.json\n// module id = 4\n// module chunks = 0","export default manifests => {\n    return function manifest(identifier, options, bootstrap) {\n        manifests.push({\n            [identifier]: {\n                options,\n                bootstrap\n            }\n        });\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/manifest.js","export default function readFromConsumerApi(key) {\n    return (...args) => {\n        if (window['@Neos:HostPluginAPI'] && window['@Neos:HostPluginAPI'][`@${key}`]) {\n            return window['@Neos:HostPluginAPI'][`@${key}`](...args);\n        }\n\n        throw new Error(`You are trying to read from a consumer api that hasn't been initialized yet!`);\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/readFromConsumerApi.js","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {SelectBox} from '@neos-project/react-ui-components';\n//import {getGuestFrameWindow} from '@neos-project/neos-ui-guest-frame/src/dom';\nimport {connect} from 'react-redux';\nimport {selectors} from '@neos-project/neos-ui-redux-store';\nimport {$get, $transform} from 'plow-js';\n\nimport styleDefinitions from './styleDefinitions';\n\nconst getGuestFrameWindow = () => {\n\treturn document.getElementsByName('neos-content-main')[0].contentWindow;\n};\n\n@connect($transform({\n\tformattingUnderCursor: selectors.UI.ContentCanvas.formattingUnderCursor\n}))\nexport default class BlockStyles extends PureComponent {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{styleDefinitions.map(this.renderStyleDefinition)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderStyleDefinition = (styleDefinition) => {\n\t\tconsole.log('this.props.formattingUnderCursor', this.props.formattingUnderCursor);\n\t\tconst classesList = $get(['Sandstorm.Blockstyles', 'classes'], this.props.formattingUnderCursor);\n\n\t\tconst classesForOption = styleDefinition.options.map(it => it.value);\n\t\tconst enabledClass = classesList && classesList.find(it => classesForOption.indexOf(it) !== -1);\n\t\tconsole.log(\"ENABLED\", classesList, classesForOption, enabledClass);\n\n\t\treturn <span>{styleDefinition.label}: <SelectBox options={styleDefinition.options} value={enabledClass} onValueChange={this.handleValueChange(styleDefinition.id)} /></span>;\n\t}\n\n\thandleValueChange = styleDefinitionId => value => {\n\t\tgetGuestFrameWindow().NeosCKEditorApi.toggleFormat(\"Sandstorm.Blockstyles\", {styleDefinitionId, value});\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/BlockStyles.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().React;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/vendor/react/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().PropTypes;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/vendor/prop-types/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().ReactUiComponents;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js","export default [\n\t{\n\t\tid: 'size',\n\n\t\tlabel: 'Size',\n\t\toptions: [\n\t\t\t{\n\t\t\t\tlabel: 'Small',\n\t\t\t\tvalue: 'size-small'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Medium',\n\t\t\t\tvalue: 'size-medium'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Large',\n\t\t\t\tvalue: 'size-large'\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tid: 'padding',\n\n\t\tlabel: 'Padding',\n\t\toptions: [\n\t\t\t{\n\t\t\t\tlabel: 'Small',\n\t\t\t\tvalue: 'padding-small'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Medium',\n\t\t\t\tvalue: 'padding-medium'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Large',\n\t\t\t\tvalue: 'padding-large'\n\t\t\t}\n\t\t]\n\t}\n];\n\nexport function extractAllCssClassNames(styleDefinitions) {\n\tconst cssClassNames = [];\n\tstyleDefinitions.forEach(styleDefinition =>\n\t\tstyleDefinition.options.forEach(option =>\n\t\t\tcssClassNames.push(option.value)\n\t\t)\n\t);\n\n\treturn cssClassNames;\n}\n\nfunction concat(...args) {\n\treturn args.reduce((acc, val) => [...acc, ...val], []);\n}\n\nexport function findAllAppliedClassesExceptForOneStyleDefinition(styleDefinitionId, styleDefinitions, editor, CKEDITOR) {\n\tconst classes = styleDefinitions.map(styleDefinition => {\n\t\tif (styleDefinition.id === styleDefinitionId) {\n\t\t\treturn [];\n\t\t} else {\n\t\t\tconst elementPath = editor.elementPath();\n\n\t\t\treturn styleDefinition.options.map(option => {\n\t\t\t\tif (elementPath.block.hasClass(option.value)) {\n\t\t\t\t\treturn option.value;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}).filter(Boolean); // remove empty values\n\t\t}\n\t});\n\n\treturn concat(...classes);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/styleDefinitions.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().reactRedux;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/vendor/react-redux/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().NeosUiReduxStore;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-redux-store/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().plow;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sebastian/src/neosmaster/Packages/Application/Neos.Neos.Ui/packages/neos-ui-extensibility/src/shims/vendor/plow-js/index.js"],"sourceRoot":""}